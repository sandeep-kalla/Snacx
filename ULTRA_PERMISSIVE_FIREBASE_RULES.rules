rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // ===== ULTRA-PERMISSIVE RULES FOR TESTING =====
    // These rules allow all authenticated users to do everything
    // Use only for testing - tighten security later
    
    // User Profiles Collection
    match /userProfiles/{userId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Memes Collection - FULL ACCESS
    match /memes/{memeId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Comment Replies Collection
    match /commentReplies/{replyId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // User XP Collection
    match /userXP/{userId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // XP Transactions Collection
    match /xpTransactions/{transactionId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // User Achievements Collection
    match /userAchievements/{userId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Achievement Progress Collection
    match /achievementProgress/{userId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Follows Collection
    match /follows/{followId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Follow Stats Collection
    match /followStats/{userId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Notifications Collection
    match /notifications/{notificationId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // User Interactions Collection (likes, bookmarks)
    match /userInteractions/{interactionId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Chat Rooms Collection
    match /chatRooms/{chatId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Chat Messages Collection
    match /chatMessages/{messageId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Meme Reactions Collection
    match /memeReactions/{reactionId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Blocked Users Collection
    match /blockedUsers/{blockId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Muted Users Collection
    match /mutedUsers/{muteId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Hashtags Collection
    match /hashtags/{hashtagId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Meme Hashtags Collection
    match /memeHashtags/{memeHashtagId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Content Counts Collection
    match /contentCounts/{userId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Meme Views Collection
    match /memeViews/{viewId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // View Stats Collection
    match /viewStats/{statsId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Leaderboards Collection
    match /leaderboards/{leaderboardId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Monthly Leaderboards Collection
    match /monthlyLeaderboards/{monthId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Badge Explanations Collection
    match /badgeExplanations/{badgeId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Admin Users Collection
    match /adminUsers/{userId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Admin Actions Collection
    match /adminActions/{actionId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // Admins Collection
    match /admins/{adminDoc} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // System Configuration Collection
    match /systemConfig/{configId} {
      allow read, write: if true;
      allow list: if true;
    }
    
    // App Statistics Collection
    match /appStats/{statsId} {
      allow read, write: if true;
      allow list: if true;
    }
  }
}
